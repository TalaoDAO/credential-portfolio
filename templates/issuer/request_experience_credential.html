<!DOCTYPE html>
<html>

<head>
  {% include 'head.html' %}
</head>

<body id="page-top">
  <div id="wrapper">
    <div class="d-flex flex-column" id="content-wrapper">
      <div id="content">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show m-0" role="alert">
                  <span>{{ message }}</span>
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
                  </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      
        {% include 'user_nav_bar.html' %}

        <div class="container-fluid mt-3">
          <div class="row mb-3">
            <div class="col-xs col-md-8 offset-md-2 ">
              <div class="card shadow mb-3">
                <div class="card-header py-3">
                  <p class="text-primary m-0 font-weight-bold">&nbsp;{{_('Request a professional experience credential')}}</p>
                </div>
                <div class="card-body">
                  <form id="form" action="/user/request_experience_credential/" method="post">
                    <div class="form-row">
                      <div class="col">
                        <p>{{_('Complete this request form as precisely as possible to help your referent to draft the final credential. Your referent will receive an email with this draft.')}}</p>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('Title')}}</label><input title="Job title." required class="form-control" type="text" name="title"></div>
                      </div>
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('Skills (Optional)')}}</label><input title="List of skills with comma separator : skill1, skill2, ..." class="form-control" type="text" name="skills"></div>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col">
                        <div class="form-group"><label>{{_('Project description')}}</label><textarea rows="4" title="A description of the project, objectives, technologies, team, delay..." required class="form-control" name="description"></textarea></div>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('Start date')}}</label><input title="Start date of the project." id="datePickerId1" class="form-control" required type="date" name="start_date"></div>
                      </div>
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('End date')}}</label><input title="End date of the project." id="datePickerId2" class="form-control" required type="date" name="end_date"></div>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('Your reviewer')}}</label>
                          <select name="reviewer_username" id="" class="form-control" required >
                            <optgroup label="Select a reviewer in the list below">
                              {{select|safe}}
                            </optgroup>
                          </select>
                        </div>
                      </div>
                      <div class="col-xl-6">
                        <div class="form-group"><label>{{_('Reference (Optional) ')}}</label><input title="Reference of your credential within the company" class="form-control" type="text" name="reference"></div>
                      </div>
                    </div>



                    <div class="form-row">
                      <div class="col-6 col-xl-3">
                        <div class="form-group"><button class="btn btn-primary btn-sm" title="Send the form to your Referent." id="in_progress_button" type="submit" name="choice" value="send">{{_('Send')}}</button></div>
                      </div>
                      <div class="col-6 col-xl-3">
                        <div class="form-group"><button onclick="goBack()" title="Cancel the request." class="btn btn-primary btn-sm" type="button" value="Back">{{_('Back')}}</button></div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% include 'user_footer.html' %}

  </div>
  <script>
    function goBack() {
      window.history.back();
    }
  </script>
  <script>datePickerId1.max = new Date().toISOString().split("T")[0];</script>
  <script>datePickerId2.max = new Date().toISOString().split("T")[0];</script>
  <script src="{{ url_for('static', filename='sending_button.js') }}"></script>
  <script src="{{ url_for('static', filename='jquery-3.5.1.slim.min.js') }}"></script>
   <script src="{{ url_for('static', filename='bs-init.js') }}"></script>
   <script src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
   <script src="{{ url_for('static', filename='in_progress_button.js') }}"></script>

</body>

</html>
